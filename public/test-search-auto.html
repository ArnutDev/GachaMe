<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Search</title>
</head>

<body>
    <input type="search" id="search-box" placeholder="Search..." />
    <script>
        // สมมติว่าคุณมีข้อมูล JSON ที่ต้องการใช้ในการค้นหา
        const namesToSearch = [
            "Dazzling Daruma Sally",
            "Camper Brown",
            "Dango Cony"
        ];

        // ฟังก์ชันเพื่อค้นหาชื่ออัตโนมัติ
        function searchNamesAutomatically(names) {
            // เลือกช่องค้นหาในหน้า HTML
            const searchBox = document.getElementById("search-box");

            if (!searchBox) {
                console.log("ไม่พบช่องค้นหา");
                return;
            }

            // สร้างตัวแปรนับสำหรับการไล่ค้นหาแต่ละชื่อ
            let index = 0;

            function performSearch() {
                if (index = names.length) {
                    // กรอกชื่อในช่องค้นหา
                    searchBox.value = names[index];

                    // กระตุ้น Event input เพื่อให้ตารางอัปเดตตาม
                    const event = new Event("input", {
                        bubbles: true
                    });
                    searchBox.dispatchEvent(event);

                    console.log(`ค้นหา: ${names[index]}`);
                    index++;

                    // เรียกใช้ฟังก์ชันซ้ำในช่วงเวลาที่กำหนด
                    setTimeout(performSearch, 2000); // ค้นหาทุก 2 วินาที
                } else {
                    console.log("ค้นหาครบทุกชื่อแล้ว");
                }
            }

            // เริ่มค้นหา
            performSearch();
        }

        // เรียกใช้ฟังก์ชัน
        searchNamesAutomatically(namesToSearch);
    </script>
</body>

</html>